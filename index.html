<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta name="google" content="notranslate" />

    <title>Notecards</title>

    <link rel="stylesheet" href="/fonts/fonts.css" />
    <link rel="stylesheet" href="/app.css" />
    <link rel="stylesheet" href="/build/bundle.css" />

    <meta name="theme-color" content="#22222a" />
    <link rel="manifest" href="manifest.json" />

    <link rel="icon" type="image/png" href="/images/icons/icon-72x72.png" />
    <link
      rel="apple-touch-icon"
      type="image/png"
      href="/images/icons/icon-192x192-maskable.png"
    />

    <meta name="description" content="PWA notes." />

    <script defer src="/build/bundle.js"></script>
  </head>

  <body>
    <noscript>
      Sorry, where is JavaScript?
    </noscript>
    <script>
      // Creating massive in localStorage
      const INITIAL = [
        {
          id: Date.now(),
          changed: Date.now(),
          synced: 'false',
          type: 'md',
          state: 'active',
          content: 'Hello world!',
        },
      ]

      if (localStorage.getItem('cards') === null) {
        localStorage.setItem('cards', JSON.stringify(INITIAL))
      }

      // Service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker
            .register('/service-worker.js')
            .then(function () {
              console.log('Service worker registered')
            })
        })
      }
    </script>
  </body>
</html>
